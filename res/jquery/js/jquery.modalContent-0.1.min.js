/*!
 * jQuery ModalContent v0.1
 * http://typo3.cms-jack.ch/
 *
 * Copyright 2012, Juergen Furrer
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Date: 2012-03-18 23:50
 */
;(function(a){a.fn.modalContent=function(b){var c={inAnimation:"top",overlayFadeDuration:200,inDelay:0,inTransition:"swing",inDuration:1e3,outDelay:5e3,outTransition:"swing",outDuration:1e3,onBefore:null,onBegin:null,onEnd:null,onClose:null,disabled:false,debug:false};var d=a.extend(c,b);a(window).resize(function(){a(".modalContent-modal, .modalContent-overlay").css({width:a(window).width(),height:a(window).height()})});a.callOnBefore=function(){var b=d.onBefore;if(a.isFunction(b)){b(d)}};a.callOnBegin=function(){var b=d.onBegin;if(a.isFunction(b)){b(d)}};a.callOnEnd=function(){var b=d.onEnd;if(a.isFunction(b)){b(d)}};a.callOnClose=function(){var b=d.onClose;if(a.isFunction(b)){b(d)}};return this.each(function(){var b=a(this);var c=b.parent();var e={};var f={};var g={};var h={};a.callOnBefore();if(d.disabled===true){if(d.debug){console.log("disabled: true")}return true}if(a(".modalContent-overlay").length<1){a("body").append('<div class="modalContent-overlay"></div>')}var i=a(".modalContent-overlay");i.css({width:a(window).width(),height:a(window).height()}).hide();b.addClass("modalContent").wrap('<div class="modalContent-outer"></div>').parent().css({width:a(window).width(),height:a(window).height(),zIndex:1});c.find(".close").bind("click",function(){b.stop();i.fadeOut(d.overlayFadeDuration,function(){c.remove()})});if(d.inAnimation=="fade"){b.addClass("modalContent-fade").hide();i.delay(d.inDelay).fadeIn(d.overlayFadeDuration,function(){a.callOnBegin();b.fadeIn(d.inDuration,d.inTransition).delay(d.outDelay).fadeOut(d.outDuration,d.outTransition,function(){a.callOnEnd();i.fadeOut(d.overlayFadeDuration,function(){a.callOnClose();c.remove()})})})}else if(d.inAnimation=="slide"){b.addClass("modalContent-slide").hide();i.delay(d.inDelay).fadeIn(d.overlayFadeDuration,function(){a.callOnBegin();b.slideDown(d.inDuration,d.inTransition).delay(d.outDelay).slideUp(d.outDuration,d.outTransition,function(){a.callOnEnd();i.fadeOut(d.overlayFadeDuration,function(){a.callOnClose();c.remove()})})})}else{switch(d.inAnimation){case"bottom":b.addClass("modalContent-bottom");e=b.offset();var j=a(document).outerHeight()-e.top;f={top:j};g={top:0};h=f;break;case"left":b.addClass("modalContent-left");e=b.offset();var k=b.outerWidth()*-1-e.left;f={left:k};g={left:0};h=f;break;case"right":b.addClass("modalContent-right");e=b.offset();var l=a(document).outerWidth()-e.left;f={left:l};g={left:0};h=f;break;default:b.addClass("modalContent-top");e=b.offset();var m=b.outerHeight()*-1-e.top;f={top:m};g={top:0};h=f;break}b.hide();i.delay(d.inDelay).fadeIn(d.overlayFadeDuration,function(){a.callOnBegin();b.css(f).show().animate(g,d.inDuration,d.inTransition).delay(d.outDelay).animate(h,d.outDuration,d.outTransition,function(){a.callOnEnd();i.fadeOut(d.overlayFadeDuration,function(){a.callOnClose();c.remove()})})})}return true})}})(jQuery);